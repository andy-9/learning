name: Update TOC

on:
  push:
    branches:
      - main

permissions:
  contents: write

jobs:
  generateTOC:
    name: TOC Generator
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      # Automatically scan all Markdown files in the repo
      - uses: technote-space/toc-generator@v4
        with:
          TARGET_PATHS: "**/*.md"
          MAX_HEADER_LEVEL: 3
          COMMIT_MESSAGE: "docs: update TOC automatically"
